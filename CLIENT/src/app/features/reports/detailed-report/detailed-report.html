<div class="flex flex-col gap-2 h-full items-center">
    <h1 class="text-2xl font-serif">{{type() | reportType}} Kimutatás</h1>
    <div class="h-1/3 w-full text-center">
        @if(type() !== 'fromto'){

        
        <p class="text-xl font-semibold mb-2">Kezdődátum: </p>
        <div class="flex gap-2 justify-center">
            <input type="date" class="input" [value]="value().toISOString().substring(0,10)"
                (change)="valueChange($event)" />
            @if(type() !== 'fromto'){

            <button (click)="previousPeriod()" class="btn btn-circle"><svg xmlns="http://www.w3.org/2000/svg"
                    fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
                </svg>
            </button>
            <button (click)="nextPeriod()" class="btn btn-circle"><svg xmlns="http://www.w3.org/2000/svg" fill="none"
                    viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
                </svg>
            </button>
            }
        </div>
    }
    @else {
        <div class="flex justify-around w-full">
            <div class="w-1/2">
                <p class="text-xl font-semibold mb-2">Kezdődátum: </p>
                <input type="date" class="input" [value]="value().toISOString().substring(0,10)"
                        (change)="valueChange($event)" />
            </div>
            <div class="w-1/2">
                <p class="text-xl font-semibold mb-2">Záródátum: </p>
                <input type="date" class="input" [value]="to().toISOString().substring(0,10)"
                        (change)="toChange($event)" />
            </div>
        </div>
    }
    </div>
    @if(reportsService.report(); as report){
    @if(reportsService.report()?.totalRevenue! > 0){
    <div class="stats shadow mt-10 w-full h-fit">
        <div class="stat">
            <div class="stat-figure text-primary">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                    class="inline-block h-8 w-8 stroke-current">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                    </path>
                </svg>
            </div>
            <div class="stat-title">Összesen értékesített</div>
            <div class="stat-value text-primary">{{report.totalRevenue | number}} FT</div>
        </div>

        <div class="stat">
            <div class="stat-figure text-secondary">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                    stroke="currentColor" class="inline-block h-8 w-8 stroke-current">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />
                </svg>

            </div>
            <div class="stat-title">Eladások száma</div>
            <div class="stat-value text-secondary">{{report.totalSales}} DB</div>
        </div>

        <div class="stat">
            <div class="stat-figure text-black">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                    class="inline-block h-8 w-8 stroke-current">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
            </div>
            <div class="stat-title">Eladott termékek száma</div>
            <div class="stat-value text-black">{{report.totalItemsSold}} DB</div>
        </div>
    </div>
    }
    @else {
    <p class="font-bold text-2xl mt-10">Erre az időszakra nincsen eladás!</p>
    }
    }
</div>